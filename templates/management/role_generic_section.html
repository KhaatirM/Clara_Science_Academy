{% extends "shared/dashboard_layout.html" %}

{% block dashboard_content %}
  <div class="container-fluid py-3">
    <div class="row align-items-center mb-3">
      <div class="col-12 col-md-8">
        <h3 class="mb-0">{{ section_title }}</h3>
      </div>
      <div class="col-12 col-md-4 text-md-end mt-2 mt-md-0">
        {% if add_url and add_button_text %}
          <a href="{{ add_url }}" class="btn btn-primary btn-sm">{{ add_button_text }}</a>
        {% endif %}
      </div>
    </div>

    {% if items is defined and items %}
      <div class="list-group">
        {% for item in items %}
          <div class="list-group-item">
            <h5 class="mb-1">{{ item.name }} {% if item.class_code %}({{ item.class_code }}){% endif %}</h5>
            <p class="mb-1">Subject: {{ item.subject }} | Grade: {{ item.grade_level }}</p>
            <p class="mb-1">Teacher: {{ (item.teacher.first_name + ' ' + item.teacher.last_name) if item.teacher else 'N/A' }}</p>
            <small>Students: {{ item.students.count() }}</small>
          </div>
        {% endfor %}
      </div>
    {% elif items is defined and not items %}
      <div class="alert alert-info" role="alert">
        No {{ section_title|lower|replace("manage ", "") }} found. {% if add_url %}You can add new ones.{% endif %}
      </div>
    {% else %}
      <div class="alert alert-info" role="alert">
        Content for the "<strong>{{ active_tab|replace('_', ' ')|title }}</strong>" section is currently under development. Please check back later!
      </div>
      <p>This page will eventually display information related to {{ active_tab|replace('_', ' ')|lower }}.</p>
    {% endif %}
  </div>
{% endblock %} 